*文件上傳表單*
```
<form action="upload.php" method="post" enctype="multipart/form-data">
	<label for="file">Filename: </label>
	<input type="file" name="file" id="file">
	<input type="submit" value="submit">
</form>
```

*上傳限制 (僅限上傳尺寸小於200KB的圖片)*
```
$allowedExts=array('jpg','jpeg','png','gif');
$extension=end(explode('.',$_FILES['file']['name']));
if($_FILES['file']['size'] < 200000 && in_array($extension,$allowedExts)){
	if($_FILES['file']['error']>0){
		// 上傳檔案失敗
		echo $_FILES['file']['error'];		
	}else{
		// 檔案上傳成功後在保存檔案前檢查檔案是否存在
		if(file_exists('uploads/'.$_FILES['file']['name'])){
			echo $_FILES['file']['name'].'already exists';
		}else{
			// 檔案不存在則移動檔案至指定目錄保存
			$tmp=$_FILES['file']['tmp_name'];
			move_uploaded_file($tmp,'uploads/'.$_FILES['file']['name']);
			echo 'upload success';
		}
	}
}else{
	// 上傳的檔案不符合規範的格式
	echo 'invalid file';
}
```

*檢查MIME類型是否為圖片*
```
$type=$_FILES['file']['type'];

$gif='image/gif';
$jpg='image/jpg';
$png='image/png';
$jpeg='image/jpeg';
$pjpeg='image/pjpeg';
$xpng='image/x-png';

if(!($type==$gif || $type==$jpg || $type==$png || $type==$jpeg || $type==$pjpeg || $type=='image/x-png')) echo 'invalid file type';

$mime=array($gif,$jpg,$png,$jpeg,$pjpeg,$xpng);

if(!in_array($type,$mime)) echo 'invalid file type';
```

*上傳檔案實例*
```
if(isset($_FILES['file']) && $_FILES['file']['error']==0){
	$filename=$_FILES['file']['name'];
	$filetype=$_FILES['file']['type'];
	$filesize=$_FILES['file']['size'];
	$tempname=$_FILES['file']['tmp_name'];
	$allowedFile=array('jpg'=>'image/jpg','png'=>'image/png');
	$extension=pathinfo($filename, PATHINFO_EXTENSION);
	$maxsize=5*1024*1024;	// 5MB
	if(!array_key_exists($extension,$allowedFile)) die('invalid file type');
	if($filesize > $maxsize) die('max file size is 5MB');
	if(in_array($filetype,$allowedFile)){
		if(file_exists('uploads/'.$filename)){
			echo $filename.' is already exists';
		}else{
			move_uploaded_file($tempname,'uploads/'.$filename);
			echo 'file uploaded successfully';
		}
	}else{
		echo 'invalid MIME type';
	}
}else{
	echo $_FILES['file']['error'];
}
```